<mat-toolbar>
  <mat-toolbar-row>
    <div td-toolbar-content layout="row" layout-align="start center" flex>
      <div>Quản lý bài đăng</div>
    </div>
  </mat-toolbar-row>
</mat-toolbar>

<mat-card>
  <div layout="row" layout-align="start center" class="pad-left-sm pad-right-sm">
    <span class="push-left-sm">
      <span class="mat-title">{{ title }}</span>
    </span>
    <td-search-box #searchBox backIcon="arrow_back" class="push-right-sm" placeholder="Search here" flex>
    </td-search-box>
    <span>
      <button mat-icon-button [matMenuTriggerFor]="toolbarMenu">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #toolbarMenu="matMenu">
        <button mat-menu-item>
          <mat-icon>settings</mat-icon>
          <span>Settings</span>
        </button>
      </mat-menu>
    </span>
  </div>
  <mat-divider></mat-divider>
  <mat-card-content class="card-container">
    <form [formGroup]="blogPostForm" flex fxLayout="column" fxLayoutGap="15px">
      <div fxLayout="row">
        <mat-icon class="custom-icon">title</mat-icon>
        <mat-form-field class="field-full-width">
          <input (blur)="onValueChanged()" formControlName="title" matInput placeholder="Tiêu đề" type="text" required>
          <mat-error *ngIf="formErrors.title">
            {{ formErrors.title }}
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-icon class="custom-icon">title</mat-icon>
        <mat-form-field class="field-full-width">
          <input (blur)="onValueChanged()" formControlName="shortDescription" matInput placeholder="Mô tả ngắn"
            type="text" required>
          <mat-error *ngIf="formErrors.shortDescription">
            {{ formErrors.shortDescription }}
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-icon class="custom-icon">subject</mat-icon>
        <mat-form-field class="field-full-width">
          <mat-label>Chủ đề</mat-label>
          <mat-select (change)="onValueChanged()" required formControlName="topicId">
            <mat-option>--</mat-option>
            <mat-option *ngFor="let topic of topics" [value]="topic.id">
              {{topic.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formErrors.topicId">
            {{ formErrors.topicId }}
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-icon class="custom-icon">subtitles</mat-icon>
        <editor formControlName="content" #editor class="field-full-width" [apiKey]="tinyMCE.API_KEY"
          [init]="tinyMCE.SETTINGS"></editor>
        <div>
        </div>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-flat-button>
      Trở về
    </button>
    <button mat-raised-button color="accent" [disabled]="blogPostForm.invalid" (click)="onSubmit()">
      Lưu
    </button>
  </mat-card-actions>
</mat-card>